<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:timeEstimate="0" MadCap:priority="0" MadCap:fileTags="RoboHelpStatus.Complete">
    <head><title>Creating GIS Themes</title>
        <link rel="StyleSheet" href="../flammaprobo_supporing/flammap2topic.css" type="text/css" />
    </head>
    <body>
        <h1>Creating GIS Themes</h1>
        <hr size="3" width="100%" align="center" />
        <h2>Creating the Data Needed for a <span class="span_2">FlamMap</span> Landscape</h2>
        <p>To create a <span class="span_2">FARSITE</span> or <span class="span_2">FlamMap</span><a href="PU_Landscape_File.htm" target="_popup">Landscape (.LCP) File</a>, the following five <a href="PU_Grid_Files.htm" target="_popup">grid themes</a> are required:</p>
        <ol class="ol_1">
            <li class="p">
                <p><a href="PU_Fuel_Model_Theme.htm" target="_popup">Fuel Model</a>,</p>
            </li>
            <li class="p">
                <p><a href="PU_Canopy_Cover_Theme.htm" target="_popup">Canopy Cover</a>,</p>
            </li>
            <li class="p">
                <p><a href="PU_Elevation_Theme.htm" target="_popup">Elevation</a>,</p>
            </li>
            <li class="p">
                <p><a href="PU_Aspect_Theme.htm" target="_popup">Aspect</a>,</p>
            </li>
            <li class="p">
                <p><a href="PU_Slope_Theme.htm" target="_popup">Slope</a>.</p>
            </li>
        </ol>
        <p>These five themes must have the exact same cell size and spatial extent. In many cases a fuel model layer does not exist and it is necessary to derive the fuel model and maybe canopy cover themes from a vegetation cover <a href="PU_Vector_Files.htm" target="_popup">shapefile</a> or grid. Slope and aspect can be derived from the elevation grid. The steps below can be used for creating the five required raster files from an elevation grid and a vegetation cover polygon shapefile that includes canopy cover.</p>
        <p>To create the five required grid themes in <span class="span_2">ArcView</span> you will need the following data and software: &#160;</p>
        <ul class="ul_1">
            <li class="p">
                <p>A fuel model coverage either as a grid file or a polygon (shapefile) or, if you don’t have one of those, then a vegetation grid or polygon that can be converted to a fuel model coverage,</p>
            </li>
            <li class="p">
                <p>canopy cover information that exists or the ability to derive canopy cover from the vegetation coverage,</p>
            </li>
            <li class="p">
                <p>elevation grid (or a Digital Elevation Model (DEM) that can be converted to an <span class="span_2">ArcView</span> elevation grid),</p>
            </li>
            <li class="p">
                <p><span class="span_2">ArcView</span> and the Spatial Analyst extension.</p>
            </li>
        </ul>
        <h2>Overview of Steps</h2>
        <ol class="ol_1">
            <li class="p">
                <p>Load the elevation grid.</p>
            </li>
            <li class="p">
                <p>Create an aspect grid from the elevation grid.</p>
            </li>
            <li class="p">
                <p>Create a slope grid from the elevation grid.</p>
            </li>
            <li class="p">
                <p>Create a fuel model number attribute for each of the vegetation types in a vegetation polygon coverage.</p>
            </li>
            <li class="p">
                <p>A local fire behavior expert should be consulted to develop the crosswalk values between vegetation type and fuel model number.</p>
            </li>
            <li class="p">
                <p>Create a fuel model grid from the vegetation/fuel model polygon coverage.</p>
            </li>
            <li class="p">
                <p>Create a canopy cover grid from the vegetation polygon coverage.</p>
            </li>
            <li class="p">
                <p>Convert and save each of the grids above (elevation, aspect, slope, fuel model and canopy cover) as ASCII raster files.</p>
            </li>
        </ol>
        <h2>Detailed Steps to Create the Five Required Raster Files</h2>
        <p>Make sure that the Spatial Analyst Extension is loaded. If you specify a working directory such as c:\FARSITE4\GIS, you will ensure that all files created during this process are saved to the same location.</p>
        <h3>Loading an Elevation Grid</h3>
        <p>Clip the elevation grid so it is the desired spatial extent if it is not already the size that you want</p>
        <p class="p_6">IMPORTANT NOTE: Each of the grid themes created must be EXACTLY the same extent, location and grid size. To insure this in <span class="span_2">ArcView</span> when any grid is created from a shape file specify (in the extent dialogue box) the output grid extent and the output grid cell size the same as the elevation grid.</p>
        <p>Do the following in <span class="span_2">ArcView</span>:</p>
        <ul class="ul_1">
            <li class="p">
                <p>Load the elevation grid</p>
            </li>
            <li class="p">
                <p>If you are going to clip the elevation grid – do it now</p>
            </li>
        </ul>
        <p class="p_6">NOTE: The person using the elevation grid to create a <span class="span_2">FARSITE</span> or <span class="span_2">FlamMap</span> landscape will need to know the distance and elevation units for the grid, meters or feet?</p>
        <h3>Developing an Aspect Theme from the Elevation Grid</h3>
        <ul class="ul_1">
            <li class="p">
                <p>Make the elevation grid the active theme.</p>
            </li>
            <li class="p">
                <p>Derive the aspect using the <span class="Code-Command">Surface &gt; Derive Aspect</span> command.</p>
            </li>
            <li class="p">
                <p>The resulting “Aspect of elevation” (temporary grid) must be converted to a grid using THEME &gt; CONVERT TO GRID and place the resulting grid in the c:\FARSITE4\GIS folder.</p>
            </li>
        </ul>
        <p class="p_6">NOTE: The person using the aspect grid to create a <span class="span_2">FARSITE</span> or <span class="span_2">FlamMap</span> landscape will need to know that the aspect grid is in degrees.</p>
        <h3>Developing a Slope Theme from the Elevation Grid</h3>
        <ul class="ul_1">
            <li class="p">
                <p>Make the elevation grid the active theme.</p>
            </li>
            <li class="p">
                <p>From the top menu choose the command <span class="Code-Command">Surface &gt; Derive Slope</span>.</p>
            </li>
            <li class="p">
                <p>The resulting map calculation must be converted to a grid.</p>
            </li>
            <li class="p">
                <p>Select the command <span class="Code-Command">Theme &gt; Convert to Grid</span> and save the resulting grid in the c:\FARSITE4\GIS folder.</p>
            </li>
        </ul>
        <p class="p_6">NOTE: The person using the slope grid to create a <span class="span_2">FARSITE</span> or <span class="span_2">FlamMap</span> landscape will need to know whether the units are degrees or % slope – by default the slope will be in degrees.</p>
        <h3>Developing a Fuel Model Theme</h3>
        <p>This process assumes that you are using a polygon cover theme. (If you already have your vegetation data in a grid file, then you can reclassify the vegetation data to fuel model number).</p>
        <ol class="ol_1">
            <li class="p">
                <p>Make your cover theme active.</p>
            </li>
            <li class="p">
                <p>Go to the attribute table of the cover theme add a new field - FuelModel. &#160;</p>
            </li>
        </ol>
        <ul class="ul_1">
            <li class="p">
                <p>Select the <span class="Code-Command">Table &gt; Start Editing &gt; Edit &gt; Add Field</span> command.</p>
            </li>
            <li class="p">
                <p>Within the "Field Definition" dialog box give it a name, type: number and a width of at least 2.</p>
            </li>
        </ul>
        <ol start="3" class="ol_1">
            <li class="p">
                <p>Assign a Fuel Model Number to every vegetation type (A local fire behavior expert should provide this information). To speed the process for adding the same fuel number for multiple records you can do the following (if you have a better way to do this that is fine):</p>
            </li>
        </ol>
        <ul class="ul_1">
            <li class="p">
                <p>Sort records by common name.</p>
            </li>
            <li class="p">
                <p>Select the field to have new values added &#160;(FuelModel).</p>
            </li>
            <li class="p">
                <p>Using the select arrow, select the first record to be modified.</p>
            </li>
            <li class="p">
                <p>Hold down shift, click and drag from the first to the last record to be modified.</p>
            </li>
            <li class="p">
                <p>From top menu choose <span class="Code-Command">Field &gt; Calculate</span> – in the dialog box enter just the fuel number.</p>
            </li>
            <li class="p">
                <p>Add the remaining fuel model numbers as above.</p>
            </li>
            <li class="p">
                <p>Save your edits – stop editing.</p>
            </li>
            <li class="p">
                <p>Go to the Legend Editor for the modified cover theme and change the legend to show FuelModel instead of common name. Change Values Field to FuelModel.</p>
            </li>
        </ul>
        <ol start="4" class="ol_1">
            <li class="p">
                <p>Convert this cover theme to a grid using the following directions</p>
            </li>
        </ol>
        <ul class="ul_1">
            <li class="p">
                <p>MAKE SURE THAT NO RECORDS ARE SELECTED BEFORE DOING THE NEXT STEPS.</p>
            </li>
            <li class="p">
                <p>When you name the grid that you are making, make sure that the file name and the path do not contain spaces.</p>
            </li>
            <li class="p">
                <p>Make the new cover theme (which includes fuel number) active. &#160;</p>
            </li>
            <li class="p">
                <p>From the top menu, choose <span class="Code-Command">Theme &gt; Convert to Grid</span> where the grid values are the fuel model numbers.</p>
            </li>
            <li class="p">
                <p>Make the cell size and extent the same as the elevation grid.</p>
            </li>
            <li class="p">
                <p>In the "Conversion Field" dialog box, pick the field for the cell values (FuelModel).</p>
            </li>
        </ul>
        <h3>Developing a Canopy Cover Theme</h3>
        <p>If canopy cover is not one of the fields available in the original cover theme attribute table, follow the process for creating a fuel model grid to create the canopy cover grid.</p>
        <p>If canopy cover is part of the vegetation (cover) theme then:</p>
        <ul class="ul_1">
            <li class="p">
                <p>Make the vegetation theme active</p>
            </li>
            <li class="p">
                <p>Repeat step 4 above, but in the "Conversion Field" dialog box, pick the field for cell values to be the Canopy Cover</p>
            </li>
        </ul>
        <p class="p_6">NOTE: &#160;Any of the five optional themes (<a href="PU_Stand_Height_Theme.htm" target="_popup">Stand Height</a>, <a href="PU_Crown_Base_Height.htm" target="_popup">Canopy Base Height</a>, <a href="PU_Crown_Bulk_Density.htm" target="_popup">Canopy Bulk Density</a>, Coarse Woody, or Duff) may be developed using the process used for FuelModel.</p>
        <p>We now have the five themes required by <span class="span_2">FARSITE</span> or <span class="span_2">FlamMap</span>: elevation, slope, aspect, fuel model and canopy cover. However, the grids must be exported as ASCII raster files to be used in creating the Landscape (.LCP) File.</p>
        <p>For each of the 5 themes developed above, do the following:</p>
        <ol class="ol_1">
            <li class="p">
                <p>Select the <span class="Code-Command">File &gt; &#160;Export Data Source</span> command.</p>
            </li>
            <li class="p">
                <p>Select Export File Type: ASCII Raster, click <span class="Code-Command">OK</span>.</p>
            </li>
            <li class="p">
                <p>Choose the grid to be converted to: ASCII file, click <span class="Code-Command">OK</span>.</p>
            </li>
            <li class="p">
                <p>Give each ASCII grid a descriptive name such as FUELS, CANCOVER, ELEVATION, SLOPE, ASPECT.</p>
            </li>
        </ol>
        <p>Using the five ASCII grid files we just created a <span class="span_2">FARSITE</span> or <span class="span_2">FlamMap</span> Landscape (.LCP) File can be constructed.</p>
        <p class="p_6">NOTE: Make sure that the person who will be building the landscape knows the units associated with all of the files created.</p>
        <p class="p_6">NOTE: If while building the Landscape (.LCP) File in <span class="span_2">FARSITE</span> a "HEADERS NOT IDENTICAL" error is reported, the headers of the ASCII files can be inspected with a text editor such as WORDPAD. The XLLCORNER, YLLCORNER and CELLSIZE values must match for all of the files. If there are very small differences between the files (round off errors) they can be corrected with the text editor and saved.</p>
    </body>
</html>